{% if page.url != '/' %}
<div class="breadcrumb-wrapper">
    <div class="container">
        <nav class="breadcrumb">
            <a href="{{ '/' | relative_url }}">Home</a>
            {% if page.section %}
            <span class="separator">></span>
            <a href="{{ '/' | append: page.section | downcase | replace: ' ', '-' | append: '/' | relative_url }}">{{ page.section }}</a>
            {% endif %}
            {% if page.subsection %}
            <span class="separator">></span>
            <a href="{{ '/' | append: page.section | downcase | replace: ' ', '-' | append: '/' | append: page.subsection | downcase | replace: ' ', '-' | append: '/' | relative_url }}">{{ page.subsection }}</a>
            {% endif %}
            {% if page.title and page.title != page.subsection %}
            <span class="separator">></span>
            <span class="current">{{ page.title }}</span>
            {% endif %}
        </nav>
    </div>
</div>

<!-- JSON-LD Structured Data for Breadcrumb -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "{{ site.url }}{{ site.baseurl }}/"
    }
    {% assign position = 2 %}
    {% if page.section %}
    ,{
      "@type": "ListItem",
      "position": {{ position }},
      "name": "{{ page.section }}",
      "item": "{{ site.url }}{{ site.baseurl }}/{{ page.section | downcase | replace: ' ', '-' }}/"
    }
    {% assign position = position | plus: 1 %}
    {% endif %}
    {% if page.subsection and page.subsection | size > 0 %}
    ,{
      "@type": "ListItem",
      "position": {{ position }},
      "name": "{{ page.subsection }}",
      "item": "{{ site.url }}{{ site.baseurl }}/{{ page.section | downcase | replace: ' ', '-' }}/{{ page.subsection | downcase | replace: ' ', '-' }}/"
    }
    {% assign position = position | plus: 1 %}
    {% endif %}
    {% if page.title and page.title != page.section and page.title != page.subsection %}
    ,{
      "@type": "ListItem",
      "position": {{ position }},
      "name": "{{ page.title }}",
      "item": "{{ site.url }}{{ site.baseurl }}{{ page.url }}"
    }
    {% endif %}
  ]
}
</script>
{% endif %}
